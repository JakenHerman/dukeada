import platform
import commands
import os
import subprocess


'''
Determine the operating system the program is running on
'''
def determine_os():
    if platform.system() ==  "Linux":
        #we know the platform is linux, test linux commands
        ubuntu_dmesg()     
    elif platform.system() == "Windows":
        #we know the platform is win, test win commands
        windows_sysinfo()
    else:               
        #the platform is something else, abort program
        quit()

'''
Run the Ubuntu dmesg command to check for hypervisor
'''
def linux_dmesg():
    dmesg = commands.getstatusoutput("dmesg |grep -i hypervisor")
    if(dmesg[0]==0):
        print dmesg[1]
    else:
        print "failure"

def windows_sysinfo():
    sysinfo = subprocess.Popen(["systeminfo"])
    print sysinfo
    os.system("pause")

determine_os()
